<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Maysen Pagan">
<meta name="dcterms.date" content="2023-10-23">

<title>Strawberries: Exploratory Data Analysis Report</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="EDA_Report_files/libs/clipboard/clipboard.min.js"></script>
<script src="EDA_Report_files/libs/quarto-html/quarto.js"></script>
<script src="EDA_Report_files/libs/quarto-html/popper.min.js"></script>
<script src="EDA_Report_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="EDA_Report_files/libs/quarto-html/anchor.min.js"></script>
<link href="EDA_Report_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="EDA_Report_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="EDA_Report_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="EDA_Report_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="EDA_Report_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Strawberries: Exploratory Data Analysis Report</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Maysen Pagan </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="http://3.bp.blogspot.com/_Nv3dJG9epgY/TAvuW9DiKaI/AAAAAAAAD5U/5SLJ4tHicUw/s1600/IMG_5245.JPG" width="525" height="340" class="figure-img"></p>
</figure>
</div>
<section id="motivations-and-initial-questions" class="level1">
<h1>Motivations and Initial Questions</h1>
<p>Are strawberries truly safe to consume? In 2020, the per capita consumption of the most popular berry in the United States, strawberries, was 8.5 pounds. There are many health benefits of consuming strawberries including a healthy immune system from Vitamin C as well as cell and tissue protection from antioxidant compounds. However, strawberries are also known for being a produce with one of the concentration of pesticides. According to the World Health Organization, some pesticides are potentially toxic to humans and may have a negative impact on one’s immune or nervous system or may even cause cancer. These facts motivate the question regarding what pesticides are found on strawberries. Of these pesticides, which are the most toxic to humans and which are safe to consume in small quantities? Furthermore, are the use of different pesticides consistent in different states or do they vary by region? These questions all address the concern of whether or not strawberries are really safe to eat.</p>
</section>
<section id="the-data" class="level1">
<h1>The Data</h1>
<p>To investigate and potentially answer some of these questions, we looked at data from the <a href="https://quickstats.nass.usda.gov">United States Department of Agriculture National Agricultural Statistics Service</a>. The original <a href="https://quickstats.nass.usda.gov/results/45FBC825-B104-38E2-9802-839F5F3C7036">downloaded data</a> from this source includes census and survey data on the sales, production and price received of strawberry products between the years 2016 and 2022. A glimpse of the original data can be viewed below.</p>
<div class="cell">
<div class="cell-output-display">
<table data-quarto-postprocess="true" class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Program</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Year</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Period</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Week Ending</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Geo Level</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">State</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">State ANSI</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ag District</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Ag District Code</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">County</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">County ANSI</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Zip Code</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Region</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">watershed_code</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Watershed</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Commodity</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Data Item</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Domain</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Domain Category</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">CV (%)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CENSUS</td>
<td style="text-align: right;">2021</td>
<td style="text-align: left;">YEAR</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">STATE</td>
<td style="text-align: left;">ALASKA</td>
<td style="text-align: left;">02</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00000000</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">STRAWBERRIES</td>
<td style="text-align: left;">STRAWBERRIES, ORGANIC - OPERATIONS WITH SALES</td>
<td style="text-align: left;">ORGANIC STATUS</td>
<td style="text-align: left;">ORGANIC STATUS: (NOP USDA CERTIFIED)</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">(H)</td>
</tr>
<tr class="even">
<td style="text-align: left;">CENSUS</td>
<td style="text-align: right;">2021</td>
<td style="text-align: left;">YEAR</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">STATE</td>
<td style="text-align: left;">ALASKA</td>
<td style="text-align: left;">02</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00000000</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">STRAWBERRIES</td>
<td style="text-align: left;">STRAWBERRIES, ORGANIC - PRODUCTION, MEASURED IN CWT</td>
<td style="text-align: left;">ORGANIC STATUS</td>
<td style="text-align: left;">ORGANIC STATUS: (NOP USDA CERTIFIED)</td>
<td style="text-align: left;">(D)</td>
<td style="text-align: left;">(D)</td>
</tr>
<tr class="odd">
<td style="text-align: left;">CENSUS</td>
<td style="text-align: right;">2021</td>
<td style="text-align: left;">YEAR</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">STATE</td>
<td style="text-align: left;">ALASKA</td>
<td style="text-align: left;">02</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">00000000</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">STRAWBERRIES</td>
<td style="text-align: left;">STRAWBERRIES, ORGANIC - SALES, MEASURED IN $</td>
<td style="text-align: left;">ORGANIC STATUS</td>
<td style="text-align: left;">ORGANIC STATUS: (NOP USDA CERTIFIED)</td>
<td style="text-align: left;">(D)</td>
<td style="text-align: left;">(D)</td>
</tr>
</tbody>
</table>


</div>
</div>
<section id="variables" class="level2">
<h2 class="anchored" data-anchor-id="variables">Variables</h2>
<ul>
<li><p><code>Program</code>: census or survey data</p></li>
<li><p><code>Year</code>: Year census or survey data was observed between 2016 and 2022</p></li>
<li><p><code>Period</code>: Calendar year or marketing year. For Prices Received data, refers to an unweighted average (by month) for the calendar year</p></li>
<li><p><code>State</code>: State in which data was collected</p></li>
<li><p><code>State ANSI</code>: Code issued by the American National Standards Institute to ensure uniform identification of geographic entities through all federal government agencies</p></li>
<li><p><code>Data Item</code>: Strawberry item being measured and units of measurement</p></li>
<li><p><code>Domain</code>: Organic, Chemical, or Fertilizer utilization status of strawberry item</p></li>
<li><p><code>Domain Category</code>: Organic, Chemical, or Fertilizer status of strawberry item with chemical names and PC codes</p></li>
<li><p><code>Value</code>: Measurement of data item</p></li>
<li><p><code>CV %</code>: Coefficient of variation</p></li>
</ul>
<p>All other variables (<code>Week Ending</code>, <code>Geo Level</code>, <code>Ag District</code>, <code>Ag District Code</code>, <code>County</code>, <code>County ANSI</code>, <code>Zip Code</code>, <code>Region</code>, <code>watershed_code</code>, <code>Watershed</code>, <code>Commodity</code>) from the original data set are columns with a single value and will be removed from the data set.</p>
<p>Following the removal of the single value columns, the data set now has 4,314 rows and 10 columns.</p>
</section>
<section id="data-exploration-organization-and-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-exploration-organization-and-cleaning">Data Exploration, Organization, and Cleaning</h2>
<section id="data-types" class="level3">
<h3 class="anchored" data-anchor-id="data-types">Data Types</h3>
<p>By observing the preview output of the data set below, we are able to see the data types of all ten variables. We can also see that variables <code>Value</code> and <code>CV %</code> have combinations of numerical data as well as single uppercase character data which represents footnote abbreviations. The interpretation of these abbreviations as well as other term definitions used by the USDA NASS can be found <a href="https://quickstats.nass.usda.gov/src/glossary.pdf">here</a>. Ideally, we want these two variables to be numeric which requires us to change the nonnumerical values to <code>NA</code> and remove commas from numbers.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4,314
Columns: 10
$ Program           &lt;chr&gt; "CENSUS", "CENSUS", "CENSUS", "CENSUS", "CENSUS", "C…
$ Year              &lt;dbl&gt; 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021…
$ Period            &lt;chr&gt; "YEAR", "YEAR", "YEAR", "YEAR", "YEAR", "YEAR", "YEA…
$ State             &lt;chr&gt; "ALASKA", "ALASKA", "ALASKA", "ALASKA", "ALASKA", "A…
$ `State ANSI`      &lt;chr&gt; "02", "02", "02", "02", "02", "02", "02", "06", "06"…
$ `Data Item`       &lt;chr&gt; "STRAWBERRIES, ORGANIC - OPERATIONS WITH SALES", "ST…
$ Domain            &lt;chr&gt; "ORGANIC STATUS", "ORGANIC STATUS", "ORGANIC STATUS"…
$ `Domain Category` &lt;chr&gt; "ORGANIC STATUS: (NOP USDA CERTIFIED)", "ORGANIC STA…
$ Value             &lt;chr&gt; "2", "(D)", "(D)", "(D)", "2", "(D)", "(D)", "142", …
$ `CV (%)`          &lt;chr&gt; "(H)", "(D)", "(D)", "(D)", "(H)", "(D)", "(D)", "19…</code></pre>
</div>
</div>
<p>We are able to see the unique footnotes in each of the <code>Value</code> and <code>CV %</code> columns by using the function below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>unique_foot <span class="ot">&lt;-</span> <span class="cf">function</span>(c){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressWarnings</span>({</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  xnew <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, c))</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  fns <span class="ot">=</span> <span class="fu">unique</span>(c[<span class="fu">is.na</span>(xnew)])</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(fns)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Unique footnotes in Values: (D) (NA) (Z) </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Unique footnotes in CV %: (H) (D) NA</code></pre>
</div>
</div>
<p>Again, the definitions of these unique abbreviations can be found on the USDA NASS website. The abbreviations provide the reasoning behind why the data is missing but for the purposes of this analysis, they may all be replaced by NA.</p>
<p>By building a function, called dcomma, we are able to pass in the columns of <code>Value</code> and <code>CV %</code> and it will return our desired numerical columns with NAs in the footnote cells. As seen below, our last two variables are now doubles as desired.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dcomma <span class="ot">&lt;-</span> <span class="cf">function</span>(c){</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">suppressWarnings</span>({</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  xnew <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, c))</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(xnew)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 4,314
Columns: 10
$ Program           &lt;chr&gt; "CENSUS", "CENSUS", "CENSUS", "CENSUS", "CENSUS", "C…
$ Year              &lt;dbl&gt; 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021, 2021…
$ Period            &lt;chr&gt; "YEAR", "YEAR", "YEAR", "YEAR", "YEAR", "YEAR", "YEA…
$ State             &lt;chr&gt; "ALASKA", "ALASKA", "ALASKA", "ALASKA", "ALASKA", "A…
$ `State ANSI`      &lt;chr&gt; "02", "02", "02", "02", "02", "02", "02", "06", "06"…
$ `Data Item`       &lt;chr&gt; "STRAWBERRIES, ORGANIC - OPERATIONS WITH SALES", "ST…
$ Domain            &lt;chr&gt; "ORGANIC STATUS", "ORGANIC STATUS", "ORGANIC STATUS"…
$ `Domain Category` &lt;chr&gt; "ORGANIC STATUS: (NOP USDA CERTIFIED)", "ORGANIC STA…
$ Value             &lt;dbl&gt; 2, NA, NA, NA, 2, NA, NA, 142, 1413251, 311784980, 1…
$ `CV (%)`          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 19.2, 51.6, 46.0, 51.7, …</code></pre>
</div>
</div>
</section>
<section id="nas" class="level3">
<h3 class="anchored" data-anchor-id="nas">NAs</h3>
<p>Our next step involves investigating observations that contain <code>NA</code> values. The only three columns that contain <code>NA</code> values are <code>State ANSI</code> as well as <code>Value</code> and <code>CV %</code> from our dcomma function. Those rows that have an <code>NA</code> in the <code>State ANSI</code> column have the value “OTHER STATES” in the <code>State</code> column. Some quick code allows us to find those states that are included in this <code>STATE</code> column and which states fall in the “OTHER STATES” category.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>all_states <span class="ot">&lt;-</span> <span class="fu">toupper</span>(state.name)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">toupper</span>(state.name)[<span class="sc">!</span>(<span class="fu">toupper</span>(state.name) <span class="sc">%in%</span> <span class="fu">unique</span>(strawberry<span class="sc">$</span>State))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "DELAWARE"    "HAWAII"      "MISSISSIPPI" "WYOMING"    </code></pre>
</div>
</div>
<p>Data from all states have been collected except for the four states of Delaware, Hawaii, Mississippi, and Wyoming which will be grouped in the “OTHER STATES” value. As a result of these four states being combined into one value, there is no <code>State ANSI</code> code for this value and the resulting output is <code>NA</code> In this case, no further steps will be taken to deal with these NAs as they are acceptable in the <code>State ANSI</code> column and do not propose any challenges in our future analysis.</p>
<p>The NAs in the <code>Value</code> and <code>CV %</code> columns were produced from our transformation of the columns into numeric form. Here as well, no further steps will be taken to deal with these NAs as they are acceptable in the <code>Value</code> and <code>CV %</code> columns and do not propose any challenges in our future analysis. Additionally, there are no duplicated rows.</p>
</section>
<section id="splitting-census-and-survey" class="level3">
<h3 class="anchored" data-anchor-id="splitting-census-and-survey">Splitting Census and Survey</h3>
<p>Before beginning the exploratory analysis of the data, we will first split the data set into two subsets: one data set that is census data and one data set that is survey data. This will allow us to closely investigate the marketing, sales, and production data of the strawberries in the census data set and chemical data of the strawberries from the survey data set.</p>
<section id="census" class="level4">
<h4 class="anchored" data-anchor-id="census">Census</h4>
<p>In the census data set, there are two columns that each contain several elements. <code>Domain Category</code> is a column with the singular value “ORGANIC STATUS: (NOP USDA CERTIFIED)” which states that the strawberry product is certified by the National Organic Program. Splitting <code>Data Item</code> into more columns will allow us to look at each element individually and observe what information the element tells us about the strawberry product.</p>
<p>In this new data set, we have now added a <code>Fruit</code> column which contains the singular value <code>Strawberries</code>, and <code>crop_type</code> which contains the singular value <code>Organic</code>. Additionally, the rest of the <code>Data Item</code> column was split into four new columns: <code>Totals</code>, <code>Fresh Market</code>, <code>Process Market</code>, and <code>Metric</code>. Data under <code>Totals</code> includes the total production and sales of the strawberry product from a specific state and year. Data under <code>Fresh Market</code> includes the sales from the fresh market which includes retail stores, farmers’ markets, or pick-your-own operations. Data under <code>Process Market</code> includes sales from the processed market where strawberries are often frozen before being processed in a final product. The <code>Metric</code> column provides whether or not the production of the strawberries or sale of the strawberries was measured in CWT (hundredweight) or dollars.</p>
</section>
<section id="survey" class="level4">
<h4 class="anchored" data-anchor-id="survey">Survey</h4>
<p>The survey data will be further split into a data set similar to the census data that provides information on census marketing, sales, and production data as well as another data set that provides information on the chemicals used by strawberry growers.</p>
<p>The survey market data set now has new columns <code>Totals</code>, <code>Processing, Utilized</code>, <code>Processing</code>, <code>Fresh Market, Utilized</code>, <code>Fresh Market</code>, <code>Utilized</code>, <code>Bearing</code>, and <code>Not Sold</code>. Each column provides the property of the strawberry product to be measured while the new <code>Metric</code> column provides the units of measurement for the property.</p>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>New names:
Rows: 1543 Columns: 3
── Column specification
──────────────────────────────────────────────────────── Delimiter: "," chr
(2): CASCode, cat lgl (1): ...3
ℹ Use `spec()` to retrieve the full column specification for this data. ℹ
Specify the column types or set `show_col_types = FALSE` to quiet this message.
• `` -&gt; `...3`</code></pre>
</div>
</div>
<p>The survey chemical data expands the <code>Domain Category</code> column into the <code>Substance</code>, <code>Chemical Name</code>, and <code>PC Code</code> of the chemical used on the strawberry product. The PC codes of each chemical were matched with their corresponding CAS number in order to determine the hazard level of each chemical. Hazard levels range from extremely hazardous to unlikely to present acute hazard.</p>
</section>
</section>
</section>
</section>
<section id="exploratory-data-analysis" class="level1">
<h1>Exploratory Data Analysis</h1>
<section id="california-strawberry-production" class="level2">
<h2 class="anchored" data-anchor-id="california-strawberry-production">California Strawberry Production</h2>
<p>When observing the rows of the larger strawberry data set, it can be seen that each row is associated with a state, suggesting that the data is organized by whether the data is census or survey as well as by state. Further exploration shows that the state with the most rows and therefore the state with the most data on strawberries is California. This result makes sense as California is known for being the lead strawberry producing state with its ideal climate.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-CAFL" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="EDA_Report_files/figure-html/fig-CAFL-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Strawberry Production ($) in California and Florida</figcaption>
</figure>
</div>
</div>
</div>
<p>Since strawberries are produced more in California than any other state, we first look at the value of all strawberries produced in California and compare to the value of all strawberries produced in Florida, which is the state that produces the second most strawberries. <a href="#fig-CAFL">Figure&nbsp;1</a> shows California’s produced strawberries valued at over $2 billion each year from 2016 to 2022. The next largest strawberry producing state produced over $1 billion less worth of strawberries each year.</p>
</section>
<section id="fresh-market-vs-process-market" class="level2">
<h2 class="anchored" data-anchor-id="fresh-market-vs-process-market">Fresh Market vs Process Market</h2>
<p>From the above results, we see that California is the state that produces strawberries more than any other state. But what kinds of markets are these strawberries being sold to? The census data was observed to determine the rank of states with the most Operations with Sales to fresh markets. The top fives states were, California, Washington, New York, Vermont, and Wisconsin. Similarly, the top five states with the most Operations with Sales to process markets were California, Washington, Oregon, New York, and Maryland. The five states in each group will be analyzed in the graphs below.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-fresh_ops" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="EDA_Report_files/figure-html/fig-fresh_ops-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;2: Fresh Market Sales Operations per Census Year</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-fresh_ops">Figure&nbsp;2</a> shows each state’s number of operations with sales in each of the 2016, 2019, and 2021 census years. The lead strawberry producing state is also the state selling the most strawberries to fresh markets. Although Florida was the second state with the largest dollar production of strawberries, they did not make either top five list of number of operations with sales to the fresh market or process market. It is interesting to note that in the 2016 census year, Wisconsin had more operations with sales to the fresh market than Vermont and New York. But between 2016 and the next census year of 2019, Wisconsin dropped the number of operations with sales to below that of Vermont and New York, while New York surpassed Vermont and Washington.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-process_ops" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="EDA_Report_files/figure-html/fig-process_ops-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3: Process Market Sales Operations per Census Year</figcaption>
</figure>
</div>
</div>
</div>
<p>When observing the top five states with the most operations with sales to the proces market, <a href="#fig-process_ops">Figure&nbsp;3</a> demonstrates that the rankings stay relatively the same over the three census years. There was no data available for Oregon in 2021.</p>
</section>
<section id="chemicals-by-state" class="level2">
<h2 class="anchored" data-anchor-id="chemicals-by-state">Chemicals By State</h2>
<p>To answer our initial question of whether or not strawberries are truly safe to eat, we will look at the survey chemical data set. Which states are using which kinds of chemicals and what are the hazard levels of these chemicals?</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-haz_chems_used" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="EDA_Report_files/figure-html/fig-haz_chems_used-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;4: Number of Unique Hazardous Chemicals Used in 2016, 2018, 2019, and 2021</figcaption>
</figure>
</div>
</div>
</div>
<p>A data frame was created from the survey chemical data that contains the number of unique chemicals used in each hazard level by each state per year. For example, in the year 2016, California used 14 different chemicals that had a hazardous level of moderately hazardous. Data for this analysis was only available for California, Florida, Oregon, and Washington in the year of 2016 and only available for California and Florida in 2018, 2019, nd 2021. <a href="#fig-haz_chems_used">Figure&nbsp;4</a> shows that in 2016, California, Florida, and Washington all used one highly hazardous chemical. The available data also shows that California and Florida used a highly hazardous chemical in 2018, 2019, and 2021. This chemical was the same highly hazardous chemical used in all years: Abamectin. Human intoxication of Abamectin is often not reported but in large doses it can potentially be a fatal cause of pesticide poisoning. An <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4413419/">experiment</a> was conducted in which a subject was intoxicated with 3600 milligrams of Abamectin orally. Symptoms included an oral scent of poison, drowsiness, low blood pressure, increased heart rate, and rash. The subject was treated and was discharged two days later in good condition.</p>
<p><a href="#fig-haz_chems_used">Figure&nbsp;4</a> also shows that California always utilizes the most chemicals in each hazard group. In 2016, 2018, 2019, and 2021, California would use at least 13 different kinds of moderately hazardous chemicals and at least 8 different kinds of slightly hazardous chemicals.</p>
</section>
</section>
<section id="future-work" class="level1">
<h1>Future Work</h1>
<p>The original data set contains a lot of missing information. Most data was attributed to lead producing states of Strawberries like California and Florida. Data from other states were often withheld from general public knowledge. Obtaining this missing information would allow us to conduct a more inclusive analysis comparing all states.</p>
<p>Additionally, further steps could be taken to clean the data. There is one column, <code>Value</code>, that contains all different kinds of measurements with different units. This makes EDA more complicated. This column could be pivoted wider to create multiple columns that contain in each column a specific method of measurement that is in one unit of measurement. With data organized into columns of one unit of measurement as well as access to all states’ information, we could look closer at the money received by each state from selling strawberries to fresh markets compared to process markets.</p>
<p>Getting access to more of the missing data would also allow us to observe what other states are using different levels of hazardous chemicals. California is the state that produces the most strawberries and uses the most chemicals on their strawberries. But are there states who produce a lot of strawberries and use very few hazardous chemicals? Or are there states who do not produce a lot of strawberries and use highly hazardous chemicals?</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>